{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?7e02","webpack:///./src/App.vue?5f2d","webpack:///./src/lib/LineCollection.js","webpack:///./src/lib/PointCollection.js","webpack:///./src/lib/bus.js","webpack:///./src/lib/createForceLayout.js","webpack:///./src/lib/findLargestComponent.js","webpack:///./src/lib/createGraphScene.js","webpack:///./src/lib/getAvailableGraphs.js","webpack:///./src/lib/loadGraph.js","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue?bff9","webpack:///./src/lib/fileDrop.js","webpack:///./src/lib/loadDroppedGraph.js","webpack:///./src/main.js","webpack:///../src/index.js","webpack:///../src/Matrix.js","webpack:///../src/powerIteration.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","_m","staticClass","_v","directives","rawName","expression","loading","on","$event","$$selectedVal","Array","filter","target","options","selected","map","val","_value","selectedGraph","multiple","_l","graph","domProps","_s","stats","nodeCount","linkCount","time","_e","stepCount","selectedLayout","layout","preventDefault","runLayout","staticRenderFns","LineCollection","gl","program","defineProgram","vertex","fragment","attributes","color","ColorAttribute","instanced","point","InstancedAttribute","width","_","drawContext","uniforms","modelViewProjection","resolution","height","draw","cb","count","getCount","from","x","y","z","to","GLCollection","PointCollection","preDrawHook","postDrawHook","bus","eventify","createForceLayout","layoutName","createD3Layout","createLayout","timeStep","springLength","springCoeff","gravity","dragCoeff","nodes","nodeToIndex","Map","forEachNode","node","id","set","simulation","links","forEachLink","link","source","fromId","toId","getNodePosition","nodeId","setNodePosition","step","d3","alphaDecay","alpha","force","strength","distance","stop","tick","findLargestComponent","nodeIdToComponentId","connectedComponents","lastComponentId","has","currentComponent","Set","bfs","otherNode","add","largestComponent","sort","a","b","size","subGraph","createGraph","addLink","startFromNodeId","visitor","queue","visited","forEachLinkedNode","createGraphScene","canvas","scene","lines","rafHandle","drawLinks","layoutSteps","loadGraph","dispose","selectLayout","newGraph","desiredLayout","cancelAnimationFrame","initScene","start","performance","now","hde","createHighLayout","end","Math","round","minX","Infinity","minY","maxX","maxY","pos","setSceneSize","max","initUIElements","requestAnimationFrame","frame","setTimeout","fire","getNodesCount","getLinksCount","sceneSize","setViewBox","left","top","right","bottom","stepsCount","newLayoutName","createScene","setClearColor","getGL","capacity","ui","position","uiId","line","appendChild","drawGraph","renderFrame","uiPosition","update","fromPos","toPos","off","getAvailableGraphs","cache","simpleCache","Promise","resolve","miserables","generate","balancedBinTree","mtxObject","renderGraph","recordsPerEdge","fetch","then","json","put","edges","supported","graphData","JSON","parse","localStorage","getItem","undefined","setItem","stringify","err","clear","methods","updateStats","loadNewGraph","watch","appState","newLayout","getStepCountFromAppState","layouts","getLayoutFromAppStateSafe","graphs","mounted","beforeDestroy","indexOf","component","fileDrop","dropHandler","onDropped","addEventListener","handleDrop","handleDragOver","prevent","handleDragEnd","removeEventListener","e","hasFiles","ev","file","dt","dataTransfer","files","items","kind","getAsFile","classList","remove","loadDroppedGraph","reader","FileReader","tryDot","fileContent","fromDot","console","log","tryJson","fromJson","readAsText","onload","content","onerror","Vue","config","productionTip","render","h","App","$mount","document","body","Matrix","require","powerIteration","pivotCount","Number","isFinite","layoutDimensions","dimensions","nodeIdToNumber","min","computeHighDimensionalLayout","matrix","pivotNodes","vectors","prepareMatrixAndGetCovariantEigenvectors","getPivotNodes","column","v","applyVectorToColumn","pivot","bfsDist","fill","addRow","indexOfMaxValue","reduce","iMax","arr","rowNumber","pivotNode","next","other","Error","vectorCount","covariant","centerMatrix","getCovariant","toArray","rows","columns","_rows","_columns","_matrix","Float64Array","_n","row","index","isCentered","mean","getMean","translateRow","delta","offset","col","sum","vector","rowValues","toFixed","join","colA","colB","sqrt","offset0","offset1","createRandom","normalize","dot","divide","multiply","A","S","k","eps","maxIteration","seed","random","threshold","createRandomVector","diff","u","product","len","nextDouble"],"mappings":"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5C,GACF/G,EAAMkE,aAAY,SAAAC,GAChB,IAAIiG,EAAU1J,EAAO6D,gBAAgBJ,EAAKE,QACtCgG,EAAQ3J,EAAO6D,gBAAgBJ,EAAKG,MAFhB,EAGPH,EAAKwF,GAAjBtH,EAHmB,EAGnBA,KAAMI,EAHa,EAGbA,GACXJ,EAAK,GAAK+H,EAAQ9H,EAAGD,EAAK,GAAK+H,EAAQ7H,EAAGF,EAAK,GAAK+H,EAAQ5H,GAAK,EACjEC,EAAG,GAAK4H,EAAM/H,EAAGG,EAAG,GAAK4H,EAAM9H,EAAGE,EAAG,GAAK4H,EAAM7H,GAAK,EACrDqE,EAAMsD,OAAOhG,EAAK0F,KAAM1F,EAAKwF,OAKnC,SAASzC,IACPI,qBAAqBR,GAErBF,EAAMM,UACNpE,EAAIwH,IAAI,aAAcrD,IC1KX,SAASsD,IACtB,MAAO,CACL,aACA,SACJ,cACA,aACA,cACA,cACA,cACA,cACA,aACA,eACA,aACA,cACA,cACA,kBACE,cACA,aACA,cACA,aACA,cACA,aACA,YACA,YACA,YACA,YACA,YACA,YACA,YACA,YACA,YACA,aACA,aACA,aACA,cACA,aACA,cACA,eACA,aACA,cACA,aACA,aACA,aACA,aACA,YACA,YACA,cACA,eACA,aACA,cACA,aACA,cACA,cACA,aACA,YACA,YACA,eACA,cACA,aACA,aACA,cACA,2BACA,kBACA,mBACA,kBACA,YACA,YACA,cACA,aACA,aACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,iBACA,cACA,aACA,aACA,aACA,YACA,YACA,YACA,YACA,YACA,YACA,WACA,YACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,UACA,aACA,aACA,aACA,aACA,YACA,YACA,YACA,YACA,cACA,cACA,aACA,aACA,aACA,aACA,YACA,aACA,aACA,aACA,aACA,YACA,YACA,aACA,aACA,YACA,aACA,YACA,cACA,cACA,cACA,cACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,cACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,aACA,YACA,aACA,aACA,YACA,YACA,aACA,aACA,YACA,aACA,aACA,aACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,aACA,cACA,cACA,aACA,aACA,cACA,cACA,aACA,aACA,aACA,WACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,YACA,YACA,cACA,YACA,aACA,aACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,YACA,YACA,UACA,YACA,YACA,UACA,UACA,UACA,UACA,UACA,UACA,cACA,cACA,aACA,cACA,aACA,aACA,YACA,YACA,YACA,cACA,cACA,WACA,aACA,aACA,cACA,YACA,YACA,WACA,aACA,aACA,aACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,aACA,YACA,SACA,SACA,SACA,aACA,aACA,aACA,aACA,qBACA,qBACA,qBACA,qBACA,qBACA,qBACA,sBACA,qBACA,oBACA,oBACA,qBACA,oBACA,kBACA,kBACA,kBACA,kBACA,mBACA,mBACA,gBACA,eACA,eACA,eACA,eACA,mBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,wBACA,wBACA,wBACA,wBACA,wBACA,wBACA,wBACA,wBACA,wBACA,wBACA,wBACA,wBACA,wBACA,wBACA,wBACA,wBACA,wBACA,2BACA,4BACA,2BACA,wBACA,wBACA,uBACA,uBACA,uBACA,uBACA,uBACA,sBACA,sBACA,sBACA,uBACA,wBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,wBACA,wBACA,uBACA,uBACA,uBACA,wBACA,wBACA,uBACA,uBACA,uBACA,uBACA,wBACA,uBACA,mBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,6BACA,6BACA,6BACA,6BACA,2BACA,2BACA,2BACA,2BACA,6BACA,0BACA,0BACA,0BACA,0BACA,0BACA,iBACA,iBACA,iBACA,iBACA,mBACA,mBACA,mBACA,mBACA,eACA,eACA,cACA,cACA,mBACA,cACA,cACA,8BACA,6BACA,8BACA,+BACA,8BACA,8BACA,8BACA,8BACA,uBACA,oBACA,kBACA,mBACA,mBACA,oBACA,uBACA,oBACA,mBACA,qBACA,qBACA,oBACA,qBACA,qBACA,mBACA,uBACA,uBACA,qBACA,oBACA,qBACA,uBACA,qBACA,oBACA,qBACA,kBACA,qBACA,oBACA,sBACA,qBACA,qBACA,mBACA,qBACA,oBACA,oBACA,oBACA,oBACA,sBACA,qBACA,qBACA,qBACA,qBACA,uBACA,oBACA,oBACA,oBACA,qBACA,qBACA,qBACA,sBACA,sBACA,oBACA,sBACA,sBACA,sBACA,sBACA,qBACA,oBACA,uBACA,uBACA,uBACA,uBACA,mBACA,uBACA,sBACA,sBACA,sBACA,oBACA,uBACA,sBACA,qBACA,qBACA,uBACA,uBACA,sBACA,sBACA,sBACA,sBACA,uBACA,oBACA,uBACA,oBACA,uBACA,wBACA,oBACA,wBACA,uBACA,mBACA,mBACA,oBACA,gBACA,gBACA,gBACA,mBACA,oBACA,mBACA,oBACA,oBACA,iBACA,iBACA,iBACA,mBACA,cACA,kBACA,kBACA,mBACA,mBACA,gBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,mBACA,iBACA,kBACA,kBACA,qBACA,oBACA,oBACA,iBACA,eACA,kBACA,mBACA,mBACA,iBACA,iBACA,mBACA,oBACA,eACA,gBACA,YACA,gBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,YACA,iBACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,kBACA,oBACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,gBACA,iBACA,gBACA,iBACA,iBACA,cACA,sBACA,oBACA,eACA,eACA,eACA,kBACA,oBACA,oBACA,oBACA,oBACA,gBACA,oBACA,oBACA,cACA,iBACA,kBACA,kBACA,iBACA,kBACA,iBACA,kBACA,iBACA,iBACA,kBACA,kBACA,kBACA,kBACA,gBACA,gBACA,gBACA,gBACA,gBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,wBACA,iBACA,oBACA,oBACA,oBACA,oBACA,oBACA,oB,8CCptBEC,EAAQC,IAEG,SAASxD,EAAUtK,GAChC,GAAa,eAATA,EAAuB,OAAO+N,QAAQC,QAAQC,KAClD,GAAa,WAATjO,EAAmB,OAAO+N,QAAQC,QAAQE,IAASC,gBAAgB,KAEvE,IAAIC,EAAYP,EAAMxN,IAAIL,GAC1B,OAAIoO,EAAkBL,QAAQC,QAAQK,EAAYD,EAAU9G,MAAO8G,EAAUE,iBAEtEC,MAAM,yCAAD,OAA0CvO,EAA1C,aAA2D,CACrEW,KAAM,SAEP6N,MAAK,SAAA7I,GAAC,OAAIA,EAAE8I,UACZD,MAAK,SAAAJ,GAEJ,OADAP,E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","file":"js/app.cc058112.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_vm._m(0),_c('div',{staticClass:\"content\"},[_vm._v(\" 1. Select a graph: \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selectedGraph),expression:\"selectedGraph\"}],attrs:{\"disable\":_vm.loading},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.selectedGraph=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.graphs),function(graph){return _c('option',{key:graph,domProps:{\"value\":graph}},[_vm._v(_vm._s(graph))])}),0),(_vm.stats)?_c('div',[_vm._v(\" 2. Computed initial positions for \"),_c('span',{staticClass:\"number\"},[_vm._v(_vm._s(_vm.stats.nodeCount))]),_vm._v(\" nodes \"),_c('span',{staticClass:\"number\"},[_vm._v(_vm._s(_vm.stats.linkCount))]),_vm._v(\" edges in \"),_c('span',{staticClass:\"number\"},[_vm._v(_vm._s(_vm.stats.time))])]):_vm._e(),(!_vm.loading && _vm.stats)?_c('div',{staticClass:\"layout-box\"},[_vm._v(\" 3. (optional) To make \"+_vm._s(_vm.stepCount)+\" layout steps with \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selectedLayout),expression:\"selectedLayout\"}],on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.selectedLayout=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.layouts),function(layout){return _c('option',{key:layout,domProps:{\"value\":layout}},[_vm._v(_vm._s(layout))])}),0),_vm._v(\" layout \"),_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.runLayout($event)}}},[_vm._v(\"CLICK HERE\")])]):_vm._e(),(_vm.loading)?_c('div',[_vm._v(\"Loading graph...\")]):_vm._e()])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h2',[_vm._v(\"Demo of \"),_c('a',{staticClass:\"source\",attrs:{\"href\":\"https://github.com/anvaka/ngraph.hde\"}},[_vm._v(\"ngraph.hde\")]),_vm._v(\" for initial positions\")])}]\n\nexport { render, staticRenderFns }","import {GLCollection, defineProgram, InstancedAttribute, ColorAttribute} from 'w-gl';\n\nexport default class LineCollection extends GLCollection {\n  constructor(gl, options = {}) {\n    let program = defineProgram({\n      gl,\n      vertex: `\n    uniform mat4 modelViewProjection;\n    uniform float width;\n    uniform vec2 resolution;\n\n    attribute vec4 color;\n    attribute vec3 from, to;\n    attribute vec2 point;\n\n    varying vec4 vColor;\n    varying vec2 vPoint;\n\n    void main() {\n      vec4 clip0 = modelViewProjection * vec4(from, 1.0);\n      vec4 clip1 = modelViewProjection * vec4(to, 1.0);\n\n      vec2 screen0 = resolution * (0.5 * clip0.xy/clip0.w + 0.5);\n      vec2 screen1 = resolution * (0.5 * clip1.xy/clip1.w + 0.5);\n\n      vec2 xBasis = normalize(screen1 - screen0);\n      vec2 yBasis = vec2(-xBasis.y, xBasis.x);\n\n      // Offset the original points:\n      vec2 pt0 = screen0 + width * point.x * yBasis;\n      vec2 pt1 = screen1 + width * point.x * yBasis;\n\n      vec2 pt = mix(pt0, pt1, point.y);\n      vec4 clip = mix(clip0, clip1, point.y);\n\n      gl_Position = vec4(clip.w * (2.0 * pt/resolution - 1.0), clip.z, clip.w);\n      vColor = color.abgr; // mix(.abgr, aToColor.abgr, aPosition.y);\n    }`,\n\n      fragment: `\n    precision highp float;\n    varying vec4 vColor;\n\n    void main() {\n      gl_FragColor = vColor;\n    }`,\n      attributes: {\n        color: new ColorAttribute()\n      },\n      instanced: {\n        point: new InstancedAttribute([\n          -0.5, 0, -0.5, 1, 0.5, 1, // First 2D triangle of the quad\n          -0.5, 0, 0.5, 1, 0.5, 0   // Second 2D triangle of the quad\n        ])\n      }\n    });\n    super(program);\n    this.width = options.width || 2;\n  }\n\n  draw(_, drawContext) {\n    if (!this.uniforms) {\n      this.uniforms = {\n        modelViewProjection: this.modelViewProjection,\n        width: this.width,\n        resolution: [drawContext.width, drawContext.height]\n      }\n    }\n    this.uniforms.resolution[0] = drawContext.width;\n    this.uniforms.resolution[1] = drawContext.height;\n    this.program.draw(this.uniforms);\n  }\n\n  // implement lineRenderTrait to allow SVG export via w-gl\n  forEachLine(cb) {\n    let count = this.program.getCount()\n    for (let i = 0; i < count; ++i) {\n      let vertex = this.program.get(i);\n      let from = { x: vertex.from[0], y: vertex.from[1], z: vertex.from[2], color: vertex.color }\n      let to = { x: vertex.to[0], y: vertex.to[1], z: vertex.to[2], color: vertex.color }\n      cb(from, to);\n    }\n  }\n\n  getLineColor(from) {\n    let count = this.program.getCount()\n    let c = from ? \n              from.color :  \n              count > 0 ? this.program.get(0).color : 0xFFFFFFFF;\n\n    return [\n      (c >> 24) & 0xFF / 255,\n      (c >> 16) & 0xFF / 255,\n      (c >>  8) & 0xFF / 255,\n      (c >>  0) & 0xFF / 255,\n    ]\n  }\n}","\nimport {GLCollection, defineProgram, ColorAttribute, InstancedAttribute} from 'w-gl';\n\nexport default class PointCollection extends GLCollection {\n  constructor(gl) {\n    let program = defineProgram({\n      gl,\n      vertex: `\n  uniform mat4 modelViewProjection;\n\n  attribute float size;\n  attribute vec3 position;\n  attribute vec4 color;\n\n  attribute vec2 point; // instanced\n\n  varying vec4 vColor;\n  varying vec2 vPoint;\n  void main() {\n    gl_Position = modelViewProjection * vec4(position + vec3(point * size, 0.), 1.0);\n    vColor = color.abgr;\n    vPoint = point;\n  }`,\n\n      fragment: `\n  precision highp float;\n  varying vec4 vColor;\n  varying vec2 vPoint;\n  void main() {\n    float dist = length(vPoint);\n    if (dist >= 0.5) {discard;}\n    gl_FragColor = vColor;\n  }`,\n      // These are just overrides:\n      attributes: {\n        color: new ColorAttribute(),\n      },\n      instanced: {\n        point: new InstancedAttribute([\n          -0.5, -0.5, -0.5,  0.5, 0.5,  0.5,\n          0.5,  0.5, 0.5, -0.5, -0.5, -0.5,\n        ])\n      },\n\n      preDrawHook(/* programInfo */) {\n        return `gl.enable(gl.DEPTH_TEST);\n        gl.depthFunc(gl.LEQUAL);`;\n      },\n      postDrawHook() {\n        return 'gl.disable(gl.DEPTH_TEST);';\n      },\n    });\n\n    super(program);\n  }\n}\n","import eventify from 'ngraph.events';\n\nconst bus = eventify({});\n\nexport default bus;","import createLayout from 'ngraph.forcelayout';\nimport * as d3 from 'd3-force';\n\nexport default function createForceLayout(graph, layoutName) {\n  if (layoutName === 'd3-force') {\n    return createD3Layout(graph);\n  }\n\n  return createLayout(graph, {\n    timeStep: 0.5,\n    springLength: 10,\n    springCoeff: 0.8,\n    gravity: -12,\n    dragCoeff: 0.9,\n  });\n}\n\nfunction createD3Layout(graph) {\n  let nodes = [];\n  let nodeToIndex = new Map();\n  graph.forEachNode(node => {\n    let id = nodes.length;\n    nodes.push({id});\n    nodeToIndex.set(node.id, id);\n  });\n\n  let links = [];\n  graph.forEachLink(link => {\n    let source = nodeToIndex.get(link.fromId)\n    let target = nodeToIndex.get(link.toId)\n    links.push({ source, target })\n  });\n\n  let simulation \n  let nodeDirty = false;\n\n  return {\n    getNodePosition(nodeId) {\n      return nodes[nodeToIndex.get(nodeId)];\n    },\n    setNodePosition(nodeId, x, y) {\n      let node = nodes[nodeToIndex.get(nodeId)];\n      node.x = x;\n      node.y = y;\n      nodeDirty = true;\n    },\n    step() {\n      if (!simulation) {\n        simulation = d3.forceSimulation(nodes)\n          .alphaDecay(0)\n          .alpha(0.5)\n          .force('x', d3.forceX())\n          .force('y', d3.forceY())\n          .force('charge', d3.forceManyBody().strength(-5))\n          .force('link', d3.forceLink(links).distance(1));\n\n        simulation.stop();\n      }\n      simulation.tick();\n    }\n  }\n}","import createGraph from 'ngraph.graph';\n\nexport default function findLargestComponent(graph) {\n  var nodeIdToComponentId = new Map();\n\n  var connectedComponents = [];\n  var lastComponentId = 0;\n\n  graph.forEachNode(function(node) {\n    if (nodeIdToComponentId.has(node.id)) {\n      // we already seen this cluster. Ignore it.\n      return;\n    }\n\n    // We found a new connected component:\n    nodeIdToComponentId.set(node.id, lastComponentId);\n    var currentComponent = new Set();\n    connectedComponents.push(currentComponent);\n\n    // Let's find what other nodes belong to this component\n    bfs(graph, node.id, otherNode => {\n      currentComponent.add(otherNode);\n      nodeIdToComponentId.set(otherNode, lastComponentId);\n    });\n\n    lastComponentId += 1;\n  });\n\n  let largestComponent = connectedComponents.sort((a, b) => b.size - a.size)[0];\n\n  let subGraph = createGraph();\n  graph.forEachLink(link => {\n    if (largestComponent.has(link.fromId)) {\n      subGraph.addLink(link.fromId, link.toId);\n    }\n  })\n\n  return subGraph;\n}\n\nfunction bfs(graph, startFromNodeId, visitor) {\n  let queue = [startFromNodeId];\n  let visited = new Set(queue);\n\n  while (queue.length) {\n    let nodeId = queue.shift();\n    visitor(nodeId);\n\n    graph.forEachLinkedNode(nodeId, function(otherNode) {\n      if (visited.has(otherNode.id)) return;\n\n      queue.push(otherNode.id);\n      visited.add(otherNode.id);\n    });\n  }\n}","import {createScene} from 'w-gl';\nimport LineCollection from './LineCollection';\nimport PointCollection from './PointCollection';\nimport bus from './bus';\nimport createHighLayout from '../../../src/index'\nimport createForceLayout from './createForceLayout';\nimport findLargestComponent from './findLargestComponent';\n\nexport default function createGraphScene(canvas) {\n  let drawLinks = true;\n\n  // Since graph can be loaded dynamically, we have these uninitialized\n  // and captured into closure. loadGraph will do the initialization\n  let graph, layout;\n  let scene, nodes, lines;\n\n  let layoutName;\n  let layoutSteps = 0; // how many frames shall we run layout?\n  let rafHandle;\n\n  bus.on('load-graph', loadGraph);\n\n  return {\n    dispose,\n    runLayout,\n    selectLayout\n  };\n\n  function loadGraph(newGraph, desiredLayout) {\n    if (scene) {\n      scene.dispose();\n      scene = null\n      layoutSteps = 0;\n      cancelAnimationFrame(rafHandle);\n    }\n    scene = initScene();\n    graph = findLargestComponent(newGraph);\n\n    if (desiredLayout && desiredLayout !== layoutName) {\n      layoutName = desiredLayout;\n    }\n    // this is a standard force layout\n    layout = createForceLayout(graph, layoutName);\n    // This is our \"initialization\" bit with HDE\n    let start = performance.now();\n    let hde = createHighLayout(graph);\n    let end = performance.now() - start;\n    let time = Math.round(end) + 'ms';\n\n\n    let minX = Infinity, minY = Infinity;\n    let maxX = -Infinity, maxY = -Infinity;\n    graph.forEachNode(node => {\n      let pos = hde.getNodePosition(node.id);\n      let x = pos[0] * 2.5;\n      let y = pos[1] * 2.5;\n      if (x < minX) minX = x; if (x > maxX) maxX = x;\n      if (y < minY) minY = y; if (y > maxY) maxY = y;\n      layout.setNodePosition(node.id, x, y)\n    });\n\n    setSceneSize(Math.max(maxX - minX, maxY - minY));\n    initUIElements();\n\n    rafHandle = requestAnimationFrame(frame);\n\n    // Notify ui about stats\n    setTimeout(() => {\n      bus.fire('stats', {\n        time,\n        nodeCount: graph.getNodesCount(),\n        linkCount: graph.getLinksCount()\n      });\n    }, 200);\n  }\n\n  function setSceneSize(sceneSize) {\n    scene.setViewBox({\n      left:  -sceneSize,\n      top:   -sceneSize,\n      right:  sceneSize,\n      bottom: sceneSize,\n    });\n  }\n\n  function runLayout(stepsCount) {\n    layoutSteps += stepsCount;\n  }\n\n  function selectLayout(newLayoutName) {\n    layoutSteps = 0;\n    layoutName = newLayoutName;\n    loadGraph(graph)\n  }\n\n  function initScene() {\n    let scene = createScene(canvas);\n    scene.setClearColor(12/255, 41/255, 82/255, 1)\n    return scene;\n  }\n  \n  function initUIElements() {\n    nodes = new PointCollection(scene.getGL(), {\n      capacity: graph.getNodesCount()\n    });\n\n    graph.forEachNode(node => {\n      var point = layout.getNodePosition(node.id);\n      let size = 1;\n      if (node.data && node.data.size) {\n        size = node.data.size;\n      } else {\n        if (!node.data) node.data = {};\n        node.data.size = size;\n      }\n      node.ui = {size, position: [point.x, point.y, point.z || 0], color: 0x90f8fcff};\n      node.uiId = nodes.add(node.ui);\n    });\n\n    lines = new LineCollection(scene.getGL(), { capacity: graph.getLinksCount() });\n\n    graph.forEachLink(link => {\n      var from = layout.getNodePosition(link.fromId);\n      var to = layout.getNodePosition(link.toId);\n      var line = { from: [from.x, from.y, from.z || 0], to: [to.x, to.y, to.z || 0], color: 0xFFFFFF10 };\n      link.ui = line;\n      link.uiId = lines.add(link.ui);\n    });\n\n    scene.appendChild(lines);\n    scene.appendChild(nodes);\n  }\n\n  function frame() {\n    rafHandle = requestAnimationFrame(frame);\n\n    if (layoutSteps > 0) {\n      layoutSteps -= 1;\n      layout.step();\n    }\n    drawGraph();\n    scene.renderFrame();\n  }\n\n  function drawGraph() {\n    graph.forEachNode(node => {\n      let pos = layout.getNodePosition(node.id);\n      let uiPosition = node.ui.position;\n      uiPosition[0] = pos.x;\n      uiPosition[1] = pos.y;\n      uiPosition[2] = pos.z || 0;\n      nodes.update(node.uiId, node.ui)\n    });\n\n    if (drawLinks) {\n      graph.forEachLink(link => {\n        var fromPos = layout.getNodePosition(link.fromId);\n        var toPos = layout.getNodePosition(link.toId);\n        let {from, to} = link.ui;\n        from[0] = fromPos.x; from[1] = fromPos.y; from[2] = fromPos.z || 0;\n        to[0] = toPos.x; to[1] = toPos.y; to[2] = toPos.z || 0;\n        lines.update(link.uiId, link.ui);\n      })\n    }\n  }\n\n  function dispose() {\n    cancelAnimationFrame(rafHandle);\n\n    scene.dispose();\n    bus.off('load-graph', loadGraph);\n  }\n}","export default function getAvailableGraphs() {\n  return [\n    'Miserables',\n    'Binary',\n'HB/blckhole',\n'Bai/rw5151',\n'HB/bcsstm13',\n'HB/lshp1882',\n'HB/plat1919',\n'HB/bcsstk26',\n'Bai/dw256A',\n'Bai/tols2000',\n'Bai/dw1024',\n'Bai/rdb2048',\n'Pajek/CSphd',\n'GHS_indef/laser',\n  \"Bai/bfwa398\",\n  \"Bai/bfwa62\",\n  \"Bai/bfwb398\",\n  \"Bai/bfwb62\",\n  \"Bai/bfwb782\",\n  \"Bai/bwm200\",\n  \"Bai/cdde1\",\n  \"Bai/cdde2\",\n  \"Bai/cdde3\",\n  \"Bai/cdde4\",\n  \"Bai/cdde5\",\n  \"Bai/cdde6\",\n  \"Bai/ck104\",\n  \"Bai/ck400\",\n  \"Bai/ck656\",\n  \"Bai/dw256B\",\n  \"Bai/dwa512\",\n  \"Bai/dwb512\",\n  \"Bai/dwg961a\",\n  \"Bai/lop163\",\n  \"Bai/mhdb416\",\n  \"Bai/odepa400\",\n  \"Bai/olm100\",\n  \"Bai/olm1000\",\n  \"Bai/olm500\",\n  \"Bai/pde225\",\n  \"Bai/pde900\",\n  \"Bai/qh1484\",\n  \"Bai/qh768\",\n  \"Bai/qh882\",\n  \"Bai/rdb1250\",\n  \"Bai/rdb1250l\",\n  \"Bai/rdb200\",\n  \"Bai/rdb200l\",\n  \"Bai/rdb450\",\n  \"Bai/rdb450l\",\n  \"Bai/rdb800l\",\n  \"Bai/rdb968\",\n  \"Bai/rw136\",\n  \"Bai/rw496\",\n  \"Bai/tols1090\",\n  \"Bai/tols340\",\n  \"Bai/tols90\",\n  \"Bai/tub100\",\n  \"Bai/tub1000\",\n  \"Barabasi/NotreDame_yeast\",\n  \"Bates/Chem97ZtZ\",\n  \"FEMLAB/poisson2D\",\n  \"FEMLAB/problem1\",\n  \"FIDAP/ex1\",\n  \"FIDAP/ex5\",\n  \"Grund/b1_ss\",\n  \"Grund/d_ss\",\n  \"Grund/poli\",\n  \"Gset/G11\",\n  \"Gset/G12\",\n  \"Gset/G13\",\n  \"Gset/G14\",\n  \"Gset/G15\",\n  \"Gset/G16\",\n  \"Gset/G17\",\n  \"Gset/G18\",\n  \"Gset/G19\",\n  \"Gset/G20\",\n  \"Gset/G21\",\n  \"Gset/G32\",\n  \"Gset/G33\",\n  \"Gset/G34\",\n  \"Gset/G35\",\n  \"Gset/G36\",\n  \"Gset/G37\",\n  \"Gset/G38\",\n  \"Gset/G39\",\n  \"Gset/G40\",\n  \"Gset/G41\",\n  \"Gset/G42\",\n  \"Gset/G43\",\n  \"Gset/G44\",\n  \"Gset/G45\",\n  \"Gset/G46\",\n  \"Gset/G47\",\n  \"Gset/G48\",\n  \"Gset/G49\",\n  \"Gset/G50\",\n  \"Gset/G51\",\n  \"Gset/G52\",\n  \"Gset/G53\",\n  \"Gset/G54\",\n  \"Gset/G55\",\n  \"Gset/G57\",\n  \"Hamrle/Hamrle1\",\n  \"HB/1138_bus\",\n  \"HB/494_bus\",\n  \"HB/662_bus\",\n  \"HB/685_bus\",\n  \"HB/abb313\",\n  \"HB/arc130\",\n  \"HB/ash219\",\n  \"HB/ash292\",\n  \"HB/ash331\",\n  \"HB/ash608\",\n  \"HB/ash85\",\n  \"HB/ash958\",\n  \"HB/bcspwr01\",\n  \"HB/bcspwr02\",\n  \"HB/bcspwr03\",\n  \"HB/bcspwr04\",\n  \"HB/bcspwr05\",\n  \"HB/bcspwr06\",\n  \"HB/bcspwr07\",\n  \"HB/bcspwr08\",\n  \"HB/bcspwr09\",\n  \"HB/bcsstk01\",\n  \"HB/bcsstk02\",\n  \"HB/bcsstk03\",\n  \"HB/bcsstk04\",\n  \"HB/bcsstk05\",\n  \"HB/bcsstk06\",\n  \"HB/bcsstk07\",\n  \"HB/bcsstk19\",\n  \"HB/bcsstk20\",\n  \"HB/bcsstk22\",\n  \"HB/bcsstm01\",\n  \"HB/bcsstm02\",\n  \"HB/bcsstm03\",\n  \"HB/bcsstm04\",\n  \"HB/bcsstm05\",\n  \"HB/bcsstm06\",\n  \"HB/bcsstm07\",\n  \"HB/bcsstm08\",\n  \"HB/bcsstm09\",\n  \"HB/bcsstm11\",\n  \"HB/bcsstm19\",\n  \"HB/bcsstm20\",\n  \"HB/bcsstm21\",\n  \"HB/bcsstm22\",\n  \"HB/bcsstm23\",\n  \"HB/bcsstm24\",\n  \"HB/bcsstm26\",\n  \"HB/bp_0\",\n  \"HB/bp_1000\",\n  \"HB/bp_1200\",\n  \"HB/bp_1400\",\n  \"HB/bp_1600\",\n  \"HB/bp_200\",\n  \"HB/bp_400\",\n  \"HB/bp_600\",\n  \"HB/bp_800\",\n  \"HB/can_1054\",\n  \"HB/can_1072\",\n  \"HB/can_144\",\n  \"HB/can_161\",\n  \"HB/can_187\",\n  \"HB/can_229\",\n  \"HB/can_24\",\n  \"HB/can_256\",\n  \"HB/can_268\",\n  \"HB/can_292\",\n  \"HB/can_445\",\n  \"HB/can_61\",\n  \"HB/can_62\",\n  \"HB/can_634\",\n  \"HB/can_715\",\n  \"HB/can_73\",\n  \"HB/can_838\",\n  \"HB/can_96\",\n  \"HB/curtis54\",\n  \"HB/dwt_1005\",\n  \"HB/dwt_1007\",\n  \"HB/dwt_1242\",\n  \"HB/dwt_162\",\n  \"HB/dwt_193\",\n  \"HB/dwt_198\",\n  \"HB/dwt_209\",\n  \"HB/dwt_221\",\n  \"HB/dwt_234\",\n  \"HB/dwt_245\",\n  \"HB/dwt_2680\",\n  \"HB/dwt_307\",\n  \"HB/dwt_310\",\n  \"HB/dwt_346\",\n  \"HB/dwt_361\",\n  \"HB/dwt_419\",\n  \"HB/dwt_492\",\n  \"HB/dwt_503\",\n  \"HB/dwt_512\",\n  \"HB/dwt_59\",\n  \"HB/dwt_592\",\n  \"HB/dwt_607\",\n  \"HB/dwt_66\",\n  \"HB/dwt_72\",\n  \"HB/dwt_758\",\n  \"HB/dwt_869\",\n  \"HB/dwt_87\",\n  \"HB/dwt_878\",\n  \"HB/dwt_918\",\n  \"HB/dwt_992\",\n  \"HB/eris1176\",\n  \"HB/fs_183_1\",\n  \"HB/fs_183_3\",\n  \"HB/fs_183_4\",\n  \"HB/fs_183_6\",\n  \"HB/fs_541_1\",\n  \"HB/fs_541_2\",\n  \"HB/fs_541_3\",\n  \"HB/fs_541_4\",\n  \"HB/fs_680_1\",\n  \"HB/fs_680_2\",\n  \"HB/fs_680_3\",\n  \"HB/gent113\",\n  \"HB/gr_30_30\",\n  \"HB/gre_1107\",\n  \"HB/gre_115\",\n  \"HB/gre_185\",\n  \"HB/gre_216a\",\n  \"HB/gre_216b\",\n  \"HB/gre_343\",\n  \"HB/gre_512\",\n  \"HB/hor_131\",\n  \"HB/ibm32\",\n  \"HB/illc1033\",\n  \"HB/impcol_a\",\n  \"HB/impcol_b\",\n  \"HB/impcol_c\",\n  \"HB/impcol_d\",\n  \"HB/impcol_e\",\n  \"HB/jagmesh1\",\n  \"HB/jagmesh2\",\n  \"HB/jagmesh3\",\n  \"HB/jagmesh4\",\n  \"HB/jagmesh5\",\n  \"HB/jagmesh7\",\n  \"HB/jagmesh8\",\n  \"HB/jagmesh9\",\n  \"HB/jgl009\",\n  \"HB/jgl011\",\n  \"HB/jpwh_991\",\n  \"HB/lap_25\",\n  \"HB/lns_131\",\n  \"HB/lns_511\",\n  \"HB/lnsp_131\",\n  \"HB/lnsp_511\",\n  \"HB/lock_700\",\n  \"HB/lshp1009\",\n  \"HB/lshp1270\",\n  \"HB/lshp1561\",\n  \"HB/lshp2233\",\n  \"HB/lshp2614\",\n  \"HB/lshp3025\",\n  \"HB/lshp3466\",\n  \"HB/lshp_265\",\n  \"HB/lshp_406\",\n  \"HB/lshp_577\",\n  \"HB/lshp_778\",\n  \"HB/lund_a\",\n  \"HB/lund_b\",\n  \"HB/mcca\",\n  \"HB/nnc261\",\n  \"HB/nnc666\",\n  \"HB/nos1\",\n  \"HB/nos2\",\n  \"HB/nos4\",\n  \"HB/nos5\",\n  \"HB/nos6\",\n  \"HB/nos7\",\n  \"HB/orsirr_1\",\n  \"HB/orsirr_2\",\n  \"HB/plat362\",\n  \"HB/plskz362\",\n  \"HB/pores_1\",\n  \"HB/pores_3\",\n  \"HB/rgg010\",\n  \"HB/saylr1\",\n  \"HB/saylr3\",\n  \"HB/sherman1\",\n  \"HB/sherman4\",\n  \"HB/shl_0\",\n  \"HB/shl_200\",\n  \"HB/shl_400\",\n  \"HB/sstmodel\",\n  \"HB/steam1\",\n  \"HB/steam3\",\n  \"HB/str_0\",\n  \"HB/str_200\",\n  \"HB/str_400\",\n  \"HB/str_600\",\n  \"HB/well1033\",\n  \"HB/west0067\",\n  \"HB/west0132\",\n  \"HB/west0156\",\n  \"HB/west0167\",\n  \"HB/west0381\",\n  \"HB/west0479\",\n  \"HB/west0497\",\n  \"HB/west0655\",\n  \"HB/west0989\",\n  \"HB/west1505\",\n  \"HB/west2021\",\n  \"HB/will199\",\n  \"HB/will57\",\n  \"HB/wm1\",\n  \"HB/wm2\",\n  \"HB/wm3\",\n  \"HB/young1c\",\n  \"HB/young2c\",\n  \"HB/young3c\",\n  \"HB/young4c\",\n  \"JGD_BIBD/bibd_11_5\",\n  \"JGD_BIBD/bibd_12_4\",\n  \"JGD_BIBD/bibd_12_5\",\n  \"JGD_BIBD/bibd_15_3\",\n  \"JGD_BIBD/bibd_17_3\",\n  \"JGD_BIBD/bibd_17_4\",\n  \"JGD_BIBD/bibd_17_4b\",\n  \"JGD_BIBD/bibd_81_2\",\n  \"JGD_BIBD/bibd_9_3\",\n  \"JGD_BIBD/bibd_9_5\",\n  \"JGD_CAG/CAG_mat364\",\n  \"JGD_CAG/CAG_mat72\",\n  \"JGD_Forest/TF10\",\n  \"JGD_Forest/TF11\",\n  \"JGD_Forest/TF12\",\n  \"JGD_Forest/TF13\",\n  \"JGD_Franz/Franz1\",\n  \"JGD_Franz/Franz3\",\n  \"JGD_G5/IG5-10\",\n  \"JGD_G5/IG5-6\",\n  \"JGD_G5/IG5-7\",\n  \"JGD_G5/IG5-8\",\n  \"JGD_G5/IG5-9\",\n  \"JGD_GL6/GL6_D_10\",\n  \"JGD_GL6/GL6_D_6\",\n  \"JGD_GL6/GL6_D_7\",\n  \"JGD_GL6/GL6_D_8\",\n  \"JGD_GL6/GL6_D_9\",\n  \"JGD_GL7d/GL7d10\",\n  \"JGD_GL7d/GL7d11\",\n  \"JGD_GL7d/GL7d26\",\n  \"JGD_Homology/ch3-3-b1\",\n  \"JGD_Homology/ch3-3-b2\",\n  \"JGD_Homology/ch4-4-b1\",\n  \"JGD_Homology/ch4-4-b2\",\n  \"JGD_Homology/ch4-4-b3\",\n  \"JGD_Homology/ch5-5-b1\",\n  \"JGD_Homology/ch5-5-b2\",\n  \"JGD_Homology/ch5-5-b3\",\n  \"JGD_Homology/ch5-5-b4\",\n  \"JGD_Homology/ch6-6-b1\",\n  \"JGD_Homology/ch6-6-b2\",\n  \"JGD_Homology/ch6-6-b5\",\n  \"JGD_Homology/ch7-6-b1\",\n  \"JGD_Homology/ch7-7-b1\",\n  \"JGD_Homology/ch7-8-b1\",\n  \"JGD_Homology/ch7-9-b1\",\n  \"JGD_Homology/ch8-8-b1\",\n  \"JGD_Homology/cis-n4c6-b1\",\n  \"JGD_Homology/cis-n4c6-b15\",\n  \"JGD_Homology/cis-n4c6-b2\",\n  \"JGD_Homology/klein-b1\",\n  \"JGD_Homology/klein-b2\",\n  \"JGD_Homology/mk10-b1\",\n  \"JGD_Homology/mk10-b2\",\n  \"JGD_Homology/mk10-b4\",\n  \"JGD_Homology/mk11-b1\",\n  \"JGD_Homology/mk12-b1\",\n  \"JGD_Homology/mk9-b1\",\n  \"JGD_Homology/mk9-b2\",\n  \"JGD_Homology/mk9-b3\",\n  \"JGD_Homology/n2c6-b1\",\n  \"JGD_Homology/n2c6-b10\",\n  \"JGD_Homology/n2c6-b2\",\n  \"JGD_Homology/n2c6-b3\",\n  \"JGD_Homology/n2c6-b9\",\n  \"JGD_Homology/n3c4-b1\",\n  \"JGD_Homology/n3c4-b2\",\n  \"JGD_Homology/n3c4-b3\",\n  \"JGD_Homology/n3c4-b4\",\n  \"JGD_Homology/n3c5-b1\",\n  \"JGD_Homology/n3c5-b2\",\n  \"JGD_Homology/n3c5-b3\",\n  \"JGD_Homology/n3c5-b4\",\n  \"JGD_Homology/n3c5-b5\",\n  \"JGD_Homology/n3c5-b6\",\n  \"JGD_Homology/n3c5-b7\",\n  \"JGD_Homology/n3c6-b1\",\n  \"JGD_Homology/n3c6-b10\",\n  \"JGD_Homology/n3c6-b11\",\n  \"JGD_Homology/n3c6-b2\",\n  \"JGD_Homology/n3c6-b3\",\n  \"JGD_Homology/n4c5-b1\",\n  \"JGD_Homology/n4c5-b10\",\n  \"JGD_Homology/n4c5-b11\",\n  \"JGD_Homology/n4c5-b2\",\n  \"JGD_Homology/n4c5-b3\",\n  \"JGD_Homology/n4c5-b9\",\n  \"JGD_Homology/n4c6-b1\",\n  \"JGD_Homology/n4c6-b15\",\n  \"JGD_Homology/n4c6-b2\",\n  \"JGD_Kocay/Trec10\",\n  \"JGD_Kocay/Trec3\",\n  \"JGD_Kocay/Trec4\",\n  \"JGD_Kocay/Trec5\",\n  \"JGD_Kocay/Trec6\",\n  \"JGD_Kocay/Trec7\",\n  \"JGD_Kocay/Trec8\",\n  \"JGD_Kocay/Trec9\",\n  \"JGD_Margulies/cat_ears_2_1\",\n  \"JGD_Margulies/cat_ears_2_4\",\n  \"JGD_Margulies/cat_ears_3_1\",\n  \"JGD_Margulies/cat_ears_4_1\",\n  \"JGD_Margulies/flower_4_1\",\n  \"JGD_Margulies/flower_5_1\",\n  \"JGD_Margulies/flower_7_1\",\n  \"JGD_Margulies/flower_8_1\",\n  \"JGD_Margulies/kneser_6_2_1\",\n  \"JGD_Margulies/wheel_3_1\",\n  \"JGD_Margulies/wheel_4_1\",\n  \"JGD_Margulies/wheel_5_1\",\n  \"JGD_Margulies/wheel_6_1\",\n  \"JGD_Margulies/wheel_7_1\",\n  \"JGD_Relat/rel3\",\n  \"JGD_Relat/rel4\",\n  \"JGD_Relat/rel5\",\n  \"JGD_Relat/rel6\",\n  \"JGD_Relat/relat3\",\n  \"JGD_Relat/relat4\",\n  \"JGD_Relat/relat5\",\n  \"JGD_Relat/relat6\",\n  \"JGD_SL6/D_10\",\n  \"JGD_SL6/D_11\",\n  \"JGD_SL6/D_5\",\n  \"JGD_SL6/D_6\",\n  \"JGD_SPG/08blocks\",\n  \"JGD_SPG/EX1\",\n  \"JGD_SPG/EX2\",\n  \"JGD_Trefethen/Trefethen_150\",\n  \"JGD_Trefethen/Trefethen_20\",\n  \"JGD_Trefethen/Trefethen_200\",\n  \"JGD_Trefethen/Trefethen_200b\",\n  \"JGD_Trefethen/Trefethen_20b\",\n  \"JGD_Trefethen/Trefethen_300\",\n  \"JGD_Trefethen/Trefethen_500\",\n  \"JGD_Trefethen/Trefethen_700\",\n  \"LPnetlib/lp_adlittle\",\n  \"LPnetlib/lp_afiro\",\n  \"LPnetlib/lp_agg\",\n  \"LPnetlib/lp_agg2\",\n  \"LPnetlib/lp_agg3\",\n  \"LPnetlib/lp_bandm\",\n  \"LPnetlib/lp_beaconfd\",\n  \"LPnetlib/lp_blend\",\n  \"LPnetlib/lp_bnl1\",\n  \"LPnetlib/lp_bore3d\",\n  \"LPnetlib/lp_brandy\",\n  \"LPnetlib/lp_capri\",\n  \"LPnetlib/lp_czprob\",\n  \"LPnetlib/lp_degen2\",\n  \"LPnetlib/lp_e226\",\n  \"LPnetlib/lp_etamacro\",\n  \"LPnetlib/lp_fffff800\",\n  \"LPnetlib/lp_finnis\",\n  \"LPnetlib/lp_fit1p\",\n  \"LPnetlib/lp_ganges\",\n  \"LPnetlib/lp_gfrd_pnc\",\n  \"LPnetlib/lp_grow15\",\n  \"LPnetlib/lp_grow7\",\n  \"LPnetlib/lp_israel\",\n  \"LPnetlib/lp_kb2\",\n  \"LPnetlib/lp_ken_07\",\n  \"LPnetlib/lp_lotfi\",\n  \"LPnetlib/lp_modszk1\",\n  \"LPnetlib/lp_perold\",\n  \"LPnetlib/lp_pilot4\",\n  \"LPnetlib/lp_qap8\",\n  \"LPnetlib/lp_recipe\",\n  \"LPnetlib/lp_sc105\",\n  \"LPnetlib/lp_sc205\",\n  \"LPnetlib/lp_sc50a\",\n  \"LPnetlib/lp_sc50b\",\n  \"LPnetlib/lp_scagr25\",\n  \"LPnetlib/lp_scagr7\",\n  \"LPnetlib/lp_scfxm1\",\n  \"LPnetlib/lp_scfxm2\",\n  \"LPnetlib/lp_scfxm3\",\n  \"LPnetlib/lp_scorpion\",\n  \"LPnetlib/lp_scrs8\",\n  \"LPnetlib/lp_scsd1\",\n  \"LPnetlib/lp_scsd6\",\n  \"LPnetlib/lp_sctap1\",\n  \"LPnetlib/lp_sctap2\",\n  \"LPnetlib/lp_sctap3\",\n  \"LPnetlib/lp_share1b\",\n  \"LPnetlib/lp_share2b\",\n  \"LPnetlib/lp_shell\",\n  \"LPnetlib/lp_ship04l\",\n  \"LPnetlib/lp_ship04s\",\n  \"LPnetlib/lp_ship08s\",\n  \"LPnetlib/lp_ship12s\",\n  \"LPnetlib/lp_sierra\",\n  \"LPnetlib/lp_stair\",\n  \"LPnetlib/lp_standata\",\n  \"LPnetlib/lp_standgub\",\n  \"LPnetlib/lp_standmps\",\n  \"LPnetlib/lp_stocfor1\",\n  \"LPnetlib/lp_tuff\",\n  \"LPnetlib/lp_vtp_base\",\n  \"LPnetlib/lpi_bgdbg1\",\n  \"LPnetlib/lpi_bgetam\",\n  \"LPnetlib/lpi_bgprtr\",\n  \"LPnetlib/lpi_box1\",\n  \"LPnetlib/lpi_chemcom\",\n  \"LPnetlib/lpi_cplex2\",\n  \"LPnetlib/lpi_ex72a\",\n  \"LPnetlib/lpi_ex73a\",\n  \"LPnetlib/lpi_forest6\",\n  \"LPnetlib/lpi_galenet\",\n  \"LPnetlib/lpi_itest2\",\n  \"LPnetlib/lpi_itest6\",\n  \"LPnetlib/lpi_klein1\",\n  \"LPnetlib/lpi_klein2\",\n  \"LPnetlib/lpi_mondou2\",\n  \"LPnetlib/lpi_pang\",\n  \"LPnetlib/lpi_pilot4i\",\n  \"LPnetlib/lpi_qual\",\n  \"LPnetlib/lpi_reactor\",\n  \"LPnetlib/lpi_refinery\",\n  \"LPnetlib/lpi_vol1\",\n  \"LPnetlib/lpi_woodinfe\",\n  \"MathWorks/Harvard500\",\n  \"MathWorks/Pd_rhs\",\n  \"MathWorks/pivtol\",\n  \"MathWorks/QRpivot\",\n  \"Meszaros/cep1\",\n  \"Meszaros/cr42\",\n  \"Meszaros/farm\",\n  \"Meszaros/gams10a\",\n  \"Meszaros/gams10am\",\n  \"Meszaros/gams30a\",\n  \"Meszaros/gams30am\",\n  \"Meszaros/gams60am\",\n  \"Meszaros/gas11\",\n  \"Meszaros/iiasa\",\n  \"Meszaros/iprob\",\n  \"Meszaros/kleemin\",\n  \"Meszaros/l9\",\n  \"Meszaros/model1\",\n  \"Meszaros/model2\",\n  \"Meszaros/nemsafm\",\n  \"Meszaros/nemscem\",\n  \"Meszaros/nsic\",\n  \"Meszaros/p0033\",\n  \"Meszaros/p0040\",\n  \"Meszaros/p0201\",\n  \"Meszaros/p0282\",\n  \"Meszaros/p0291\",\n  \"Meszaros/p0548\",\n  \"Meszaros/p2756\",\n  \"Meszaros/problem\",\n  \"Meszaros/qiulp\",\n  \"Meszaros/refine\",\n  \"Meszaros/rosen7\",\n  \"Meszaros/scagr7-2c\",\n  \"Meszaros/scrs8-2b\",\n  \"Meszaros/scrs8-2c\",\n  \"Meszaros/small\",\n  \"Meszaros/zed\",\n  \"Morandini/robot\",\n  \"Morandini/rotor1\",\n  \"Muite/Chebyshev1\",\n  \"NYPA/Maragal_1\",\n  \"NYPA/Maragal_2\",\n  \"Oberwolfach/LF10\",\n  \"Oberwolfach/LFAT5\",\n  \"Pajek/Cities\",\n  \"Pajek/divorce\",\n  \"Pajek/EPA\",\n  \"Pajek/Erdos02\",\n  \"Pajek/Erdos971\",\n  \"Pajek/Erdos972\",\n  \"Pajek/Erdos981\",\n  \"Pajek/Erdos982\",\n  \"Pajek/Erdos991\",\n  \"Pajek/Erdos992\",\n  \"Pajek/EVA\",\n  \"Pajek/football\",\n  \"Pajek/GD00_a\",\n  \"Pajek/GD00_c\",\n  \"Pajek/GD01_a\",\n  \"Pajek/GD01_A\",\n  \"Pajek/GD01_b\",\n  \"Pajek/GD01_c\",\n  \"Pajek/GD02_a\",\n  \"Pajek/GD02_b\",\n  \"Pajek/GD06_Java\",\n  \"Pajek/GD06_theory\",\n  \"Pajek/GD95_a\",\n  \"Pajek/GD95_b\",\n  \"Pajek/GD95_c\",\n  \"Pajek/GD96_a\",\n  \"Pajek/GD96_b\",\n  \"Pajek/GD96_c\",\n  \"Pajek/GD96_d\",\n  \"Pajek/GD97_a\",\n  \"Pajek/GD97_b\",\n  \"Pajek/GD97_c\",\n  \"Pajek/GD98_a\",\n  \"Pajek/GD98_b\",\n  \"Pajek/GD98_c\",\n  \"Pajek/GD99_b\",\n  \"Pajek/GD99_c\",\n  \"Pajek/GlossGT\",\n  \"Pajek/Journals\",\n  \"Pajek/Kohonen\",\n  \"Pajek/Ragusa16\",\n  \"Pajek/Ragusa18\",\n  \"Pajek/Roget\",\n  \"Pajek/Sandi_authors\",\n  \"Pajek/Sandi_sandi\",\n  \"Pajek/SciMet\",\n  \"Pajek/SmaGri\",\n  \"Pajek/SmallW\",\n  \"Pajek/Stranke94\",\n  \"Pajek/Tina_AskCal\",\n  \"Pajek/Tina_AskCog\",\n  \"Pajek/Tina_DisCal\",\n  \"Pajek/Tina_DisCog\",\n  \"Pajek/USAir97\",\n  \"Pajek/USpowerGrid\",\n  \"Pajek/WorldCities\",\n  \"Pajek/yeast\",\n  \"Pothen/mesh1e1\",\n  \"Pothen/mesh1em1\",\n  \"Pothen/mesh1em6\",\n  \"Pothen/mesh2e1\",\n  \"Pothen/mesh2em5\",\n  \"Pothen/mesh3e1\",\n  \"Pothen/mesh3em5\",\n  \"Pothen/sphere2\",\n  \"Pothen/sphere3\",\n  \"Qaplib/lp_nug05\",\n  \"Qaplib/lp_nug06\",\n  \"Qaplib/lp_nug07\",\n  \"Qaplib/lp_nug08\",\n  \"Rajat/rajat02\",\n  \"Rajat/rajat05\",\n  \"Rajat/rajat11\",\n  \"Rajat/rajat14\",\n  \"Rajat/rajat19\",\n  \"Sandia/oscil_dcop_01\",\n  \"Sandia/oscil_dcop_02\",\n  \"Sandia/oscil_dcop_03\",\n  \"Sandia/oscil_dcop_04\",\n  \"Sandia/oscil_dcop_05\",\n  \"Sandia/oscil_dcop_06\",\n  \"Sandia/oscil_dcop_07\",\n  \"Sandia/oscil_dcop_08\",\n  \"Sandia/oscil_dcop_09\",\n  \"Sandia/oscil_dcop_10\",\n  \"Sandia/oscil_dcop_11\",\n  \"Sandia/oscil_dcop_12\",\n  \"Sandia/oscil_dcop_13\",\n  \"Sandia/oscil_dcop_14\",\n  \"Sandia/oscil_dcop_15\",\n  \"Sandia/oscil_dcop_16\",\n  \"Sandia/oscil_dcop_17\",\n  \"Sandia/oscil_dcop_18\",\n  \"Sandia/oscil_dcop_19\",\n  \"Sandia/oscil_dcop_20\",\n  \"Sandia/oscil_dcop_21\",\n  \"Sandia/oscil_dcop_22\",\n  \"Sandia/oscil_dcop_23\",\n  \"Sandia/oscil_dcop_24\",\n  \"Sandia/oscil_dcop_25\",\n  \"Sandia/oscil_dcop_26\",\n  \"Sandia/oscil_dcop_27\",\n  \"Sandia/oscil_dcop_28\",\n  \"Sandia/oscil_dcop_29\",\n  \"Sandia/oscil_dcop_30\",\n  \"Sandia/oscil_dcop_31\",\n  \"Sandia/oscil_dcop_32\",\n  \"Sandia/oscil_dcop_33\",\n  \"Sandia/oscil_dcop_34\",\n  \"Sandia/oscil_dcop_35\",\n  \"Sandia/oscil_dcop_36\",\n  \"Sandia/oscil_dcop_37\",\n  \"Sandia/oscil_dcop_38\",\n  \"Sandia/oscil_dcop_39\",\n  \"Sandia/oscil_dcop_40\",\n  \"Sandia/oscil_dcop_41\",\n  \"Sandia/oscil_dcop_42\",\n  \"Sandia/oscil_dcop_43\",\n  \"Sandia/oscil_dcop_44\",\n  \"Sandia/oscil_dcop_45\",\n  \"Sandia/oscil_dcop_46\",\n  \"Sandia/oscil_dcop_47\",\n  \"Sandia/oscil_dcop_48\",\n  \"Sandia/oscil_dcop_49\",\n  \"Sandia/oscil_dcop_50\",\n  \"Sandia/oscil_dcop_51\",\n  \"Sandia/oscil_dcop_52\",\n  \"Sandia/oscil_dcop_53\",\n  \"Sandia/oscil_dcop_54\",\n  \"Sandia/oscil_dcop_55\",\n  \"Sandia/oscil_dcop_56\",\n  \"Sandia/oscil_dcop_57\",\n  \"Sandia/oscil_trans_01\",\n  \"TOKAMAK/utm300\",\n  \"vanHeukelum/cage3\",\n  \"vanHeukelum/cage4\",\n  \"vanHeukelum/cage5\",\n  \"vanHeukelum/cage6\",\n  \"vanHeukelum/cage7\",\n  \"YZhou/circuit204\"\n  ];\n}","import createGraph from 'ngraph.graph';\nimport miserables from 'miserables';\nimport generate from 'ngraph.generators';\n\nlet cache = simpleCache();\n\nexport default function loadGraph(name) {\n  if (name === 'Miserables') return Promise.resolve(miserables);\n  if (name === 'Binary') return Promise.resolve(generate.balancedBinTree(10));\n\n  let mtxObject = cache.get(name);\n  if (mtxObject) return Promise.resolve(renderGraph(mtxObject.links, mtxObject.recordsPerEdge));\n\n  return fetch(`https://s3.amazonaws.com/yasiv_uf/out/${name}/index.js`, {\n    mode: 'cors'\n  })\n  .then(x => x.json())\n  .then(mtxObject => {\n    cache.put(name, mtxObject);\n    return renderGraph(mtxObject.links, mtxObject.recordsPerEdge);\n  });\n}\nfunction renderGraph (edges, recordsPerEdge) {\n  let graph = createGraph();\n  for(var i = 0; i < edges.length - 1; i += recordsPerEdge) {\n      graph.addLink(edges[i], edges[i + 1]);\n  }\n  return graph\n}\n\nfunction simpleCache() {\n    var supported = window.hasOwnProperty('localStorage');\n\n    return {\n        get : function(key) {\n            if (!supported) { return null; }\n            var graphData = JSON.parse(window.localStorage.getItem(key));\n            if (!graphData || graphData.recordsPerEdge === undefined) {\n              // this is old cache. Invalidate it\n              return null;\n            }\n            return graphData;\n        },\n        put : function(key, value) {\n            if (!supported) { return false;}\n            try {\n                window.localStorage.setItem(key, JSON.stringify(value));\n            } catch(err) {\n                // TODO: make something clever than this in case of quata exceeded.\n                window.localStorage.clear();\n            }\n        }\n    };\n}\n","<template>\n  <div id=\"app\">\n    <h2>Demo of <a href=\"https://github.com/anvaka/ngraph.hde\" class='source'>ngraph.hde</a> for initial positions</h2>\n    <div class='content'>\n      1. Select a graph: <select v-model='selectedGraph' :disable='loading'>\n        <option v-for=\"graph in graphs\" :key='graph' :value='graph'>{{graph}}</option>\n      </select>\n      <div v-if='stats'>\n        2. Computed initial positions for <span class='number'>{{stats.nodeCount}}</span> nodes <span class='number'>{{stats.linkCount}}</span> edges in\n        <span class='number'>{{stats.time}}</span>\n      </div>\n      <div v-if='!loading && stats' class='layout-box'>\n        3. (optional) To make {{stepCount}} \n        layout steps with <select v-model='selectedLayout'>\n          <option v-for=\"layout in layouts\" :key='layout' :value='layout'>{{layout}}</option>\n        </select> layout <a href=\"#\" @click.prevent='runLayout'>CLICK HERE</a> \n      </div>\n\n      <div v-if='loading'>Loading graph...</div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport createGraphScene from './lib/createGraphScene';\nimport getAvailableGraphs from './lib/getAvailableGraphs';\nimport loadGraph from './lib/loadGraph';\nimport bus from './lib/bus';\nimport queryState from 'query-state';\n\nlet layouts = ['ngraph.forcelayout', 'd3-force'];\nlet appState = queryState({graph: 'Miserables'}, { useSearch: true });\n\nexport default {\n  name: 'app',\n  methods: {\n    runLayout() {\n      this.scene.runLayout(this.stepCount);\n    },\n    updateStats(stats) {\n      this.stats = stats;\n    },\n\n    loadNewGraph(newGraph) {\n      this.loading = true;\n      this.stats = null;\n\n      loadGraph(newGraph).then(newGraph => {\n        bus.fire('load-graph', newGraph, this.selectedLayout);\n        this.loading = false;\n      });\n    }\n  },\n  watch: {\n    selectedLayout(newLayout) {\n      appState.set('layout', newLayout);\n      this.scene.selectLayout(newLayout);\n    },\n    selectedGraph(newGraph) {\n      appState.set('graph', newGraph);\n      this.loadNewGraph(newGraph);\n    }\n  },\n  data() {\n    let graphs = getAvailableGraphs();\n    return {\n      stepCount: getStepCountFromAppState(),\n      selectedGraph: appState.get('graph'),\n      layouts,\n      selectedLayout: getLayoutFromAppStateSafe(),\n      loading: false,\n      stats: null,\n      graphs\n    }\n  },\n  mounted() {\n    const canvas = document.getElementById('cnv');\n    this.scene = createGraphScene(canvas);\n    bus.on('stats', this.updateStats);\n    this.loadNewGraph(this.selectedGraph);\n  },\n\n  beforeDestroy() {\n    if (this.scene) {\n      this.scene.dispose();\n    }\n    bus.off('stats', this.updateStats);\n  }\n}\n\nfunction getStepCountFromAppState() {\n  let step = appState.get('step');\n  return (Number.isFinite(step) && step > 0) ? step : 200;\n}\n\nfunction getLayoutFromAppStateSafe() {\n  let layout = appState.get('layout');\n  if (layouts.indexOf(layout) > -1) {\n    return layout;\n  }\n  return layouts[0];\n}\n</script>\n\n<style>\n#app {\n  position: absolute;\n  max-width: 400px;\n  background: rgb(12, 41, 82);\n  border: 1px solid white;\n  padding: 8px;\n}\n\n.row {\n  display: flex;\n  flex-direction: row;\n  align-items: baseline;\n}\n\n.row .label {\n  flex: 1;\n}\n.row .value {\n  flex: 1;\n}\n.row select {\n  width: 100%;\n}\n.btn-command {\n  display: block;\n  padding: 4px;\n  margin-top: 10px;\n  border: 1px solid;\n}\n.stats {\n  font-size: 12px;\n  background:#222;\n  margin: 8px -8px;\n  padding: 0 8px;\n}\n\na {\n  color: rgb(244, 244, 244);\n  text-decoration: none;\n  border-bottom: 1px dashed;\n  text-align: center;\n  padding: 0 4px\n}\nh2 {\n  margin: 8px 0 16px 0;\n  font-size: 18px;\n  font-weight: normal;\n}\n.number {\n  color: yellow;\n  font-size: 18px;\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=36cc73cc&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/**\n * Handles dropped files into the browser.\n */\nexport default function fileDrop(dropHandler, onDropped) {\n  dropHandler.addEventListener('drop', handleDrop, true);\n  dropHandler.addEventListener('dragover', handleDragOver);\n  dropHandler.addEventListener('dragenter', prevent);\n  dropHandler.addEventListener('dragleave', handleDragEnd)\n  dropHandler.addEventListener('dragend', handleDragEnd);\n\n  return {\n    dispose\n  }\n\n  function dispose() {\n    dropHandler.removeEventListener('drop', handleDrop);\n    dropHandler.removeEventListener('dragover', handleDragOver);\n    dropHandler.removeEventListener('dragenter', prevent);\n    dropHandler.removeEventListener('dragleave', handleDragEnd)\n    dropHandler.removeEventListener('dragend', handleDragEnd);\n  }\n\n  function prevent(e) {\n    if (!hasFiles(e)) return;\n\n    e.preventDefault();\n  }\n\n  function handleDrop(ev) {\n    handleDragEnd();\n    ev.preventDefault();\n    // If dropped items aren't files, reject them\n    var dt = ev.dataTransfer;\n    var files = []\n    var i, file;\n    if (dt.items) {\n      // Use DataTransferItemList interface to access the file(s)\n      for (i = 0; i < dt.items.length; i++) {\n        if (dt.items[i].kind == \"file\") {\n          file = dt.items[i].getAsFile();\n          files.push(file);\n        }\n      }\n    } else {\n      // Use DataTransfer interface to access the file(s)\n      for (i = 0; i < dt.files.length; i++) {\n        file = dt.files[i];\n        files.push(file);\n      } \n    }\n\n    onDropped(files);\n  }\n\n\n  function handleDragOver(e) {\n    if (!hasFiles(e)) return;\n\n    e.preventDefault();\n    dropHandler.classList.add('drag-over');\n  }\n\n  function hasFiles(e) {\n    if (!e.dataTransfer) return false;\n    if (e.dataTransfer.files && e.dataTransfer.files.length > 0) return true;\n    var items = e.dataTransfer.items;\n    if (!items) return false;\n    for (var i = 0; i < items.length; ++i) {\n      if (items[i].kind === 'file') return true;\n    }\n\n    return false;\n  }\n\n  function handleDragEnd() {\n    dropHandler.classList.remove('drag-over');\n  }\n}","import fromDot from 'ngraph.fromdot';\nimport fromJson from 'ngraph.fromjson';\nimport bus from './bus.js';\n\n/**\n * Loads graph from a dropped file\n */\nexport default function loadDroppedGraph(files) {\n  let file = files[0];\n\n  var reader = new FileReader();\n  reader.readAsText(file, \"UTF-8\");\n  reader.onload = e => {\n    let content = e.target.result;\n    let graph = tryDot(content) || tryJson(content);\n    if (graph) bus.fire('load-graph', graph);\n  }\n  reader.onerror = (e) => {\n    //eslint-disable-next-line\n    console.log('error loading dot file: ', e)\n  };\n\n  function tryDot(fileContent) {\n    try {\n      return fromDot(fileContent);\n    } catch (e) {\n      //eslint-disable-next-line\n      console.log('error loading dot file: ', e)\n    }\n  }\n  function tryJson(fileContent) {\n    try {\n      return fromJson(JSON.parse(fileContent));\n    } catch (e) {\n      //eslint-disable-next-line\n      console.log('error loading JSON: ', e)\n    }\n  }\n}","import Vue from 'vue'\nimport App from './App.vue'\nimport fileDrop from './lib/fileDrop.js';\nimport loadDroppedGraph from './lib/loadDroppedGraph.js';\n\nVue.config.productionTip = false\n\nnew Vue({\n  render: h => h(App),\n}).$mount('#app')\n\n// When they drop a `.dot` file into the browser - let's load it.\nfileDrop(document.body, loadDroppedGraph);","const Matrix = require('./Matrix');\nconst powerIteration = require('./powerIteration');\n\n/**\n * \n * @param {*} graph - ngraph.graph instance (https://github.com/anvaka/ngraph.graph)\n * @param {*} options \n * \n * @see http://www.wisdom.weizmann.ac.il/~harel/papers/highdimensionalGD.pdf\n */\nmodule.exports = function createLayout(graph, options = {}) {\n  /**\n   * How many pivot points should be used to compute shortest paths?\n   * Very low values (less than 3) don't usually result in a good embedding.\n   */\n  let pivotCount = (Number.isFinite(options.pivotCount) && options.pivotCount > 0) ? options.pivotCount : 50;\n\n  /**\n   * By default, do a 2D layout. Layout cannot have more dimensions than pivotCount;\n   */\n  let layoutDimensions = (Number.isFinite(options.dimensions) && options.dimensions > 0) ? options.dimensions : 2;\n\n  let nodeIdToNumber = new Map();\n  let nodes = [];\n  graph.forEachNode(node => {\n    let id =  nodes.length;\n    nodeIdToNumber.set(node.id, id);\n    nodes.push(node.id);\n  });\n\n  // Now that we know number of points, let's adjust our input variables:\n  pivotCount = Math.min(pivotCount, nodes.length);\n  layoutDimensions = Math.min(layoutDimensions, pivotCount);\n\n  let {matrix, pivotNodes} = computeHighDimensionalLayout(nodes[0]);\n  let vectors = prepareMatrixAndGetCovariantEigenvectors(matrix, layoutDimensions);\n\n  return {\n    getNodePosition,\n    getPivotNodes\n  }\n\n  function getNodePosition(nodeId) {\n    let column = nodeIdToNumber.get(nodeId);\n    return vectors.map(v => matrix.applyVectorToColumn(column, v));\n  }\n\n  function getPivotNodes() {\n    return pivotNodes;\n  }\n\n  function computeHighDimensionalLayout(pivot) {\n    let bfsDist = Array(nodes.length).fill(Infinity);\n    let matrix = new Matrix(pivotCount, nodes.length);\n    let pivotNodes = [];\n\n    for (let i = 0; i < pivotCount; ++i) {\n      pivotNodes.push(pivot);\n      addRow(matrix, i, pivot);\n\n      let indexOfMaxValue = bfsDist.reduce((iMax, x, i, arr) => x > arr[iMax] ? i : iMax, 0);\n      pivot = nodes[indexOfMaxValue];\n    }\n\n    return {matrix, pivotNodes};\n\n    function addRow(matrix, rowNumber, pivotNode) {\n      let queue = [{node: pivotNode, d: 0}];\n      let visited = new Set([pivotNode]);\n      while (queue.length) {\n        let next = queue.shift();\n        let column = nodeIdToNumber.get(next.node);\n        matrix.set(rowNumber, column, next.d);\n        bfsDist[column] = Math.min(bfsDist[column], next.d);\n\n        graph.forEachLinkedNode(next.node, other => {\n          if (visited.has(other.id)) return;\n          queue.push({\n            node: other.id,\n            d: next.d + 1\n          });\n          visited.add(other.id)\n        })\n      }\n\n      if (visited.size !== nodes.length) {\n        throw new Error('Graph has disconnected component. Please use ngraph.hde once per individual component');\n      }\n    }\n  }\n\n  function prepareMatrixAndGetCovariantEigenvectors(matrix, vectorCount) {\n    let covariant = matrix.centerMatrix().getCovariant().toArray();\n    return powerIteration(covariant, vectorCount);\n  }\n}\n","/**\n * This matrix holds graph theoretical distances to all nodes in the graph.\n * Each row represents a pivot node, and each column represents a distance\n * form this pivot point to a node in the graph.\n */\nmodule.exports = class Matrix {\n  constructor(rows, columns) {\n    this._rows = rows;\n    this._columns = columns;\n    this._matrix = new Float64Array(rows * columns);\n    this._n = rows * columns;\n  }\n\n  set(row, column, value) {\n    let index = row * this._columns + column;\n    if (index >= this._n) throw new Error('Index out of range ' + row + ',' + column);\n    this._matrix[index] = value;\n  }\n\n  get(row, column) {\n    let index = row * this._columns + column;\n    if (index >= this._n) throw new Error('Index out of range ' + row + ',' + column);\n    return this._matrix[index];\n  }\n\n  centerMatrix() {\n    if (this.isCentered) return this;\n\n    for (let row = 0; row < this._rows; ++row) {\n      let mean = this.getMean(row);\n      this.translateRow(row, -mean)\n    }\n\n    this.isCentered = true;\n    return this;\n  }\n\n  translateRow(row, delta) {\n    if (row < 0 || row > this._rows) throw new Error('Row is out of range ' + row);\n    let offset = row * this._columns;\n\n    for (let col = 0; col < this._columns; ++col) {\n      this._matrix[col + offset] += delta;\n    }\n  }\n\n  getMean(row) {\n    let sum = 0;\n    if (row < 0 || row > this._rows) throw new Error('Row is out of range ' + row);\n    let offset = row * this._columns;\n\n    for (let col = 0; col < this._columns; ++col) {\n      sum += this._matrix[col + offset];\n    }\n\n    return sum / this._columns;\n  }\n\n  applyVectorToColumn(column, vector) {\n    let sum = 0;\n    if (vector.length !== this._rows) throw new Error('Invalid vector dimensions');\n    for (let row = 0; row < this._rows; ++row) {\n      sum += this._matrix[row * this._columns + column] * vector[row];\n    }\n    return sum;\n  }\n\n  print() {\n    let rows = [];\n    for (let row = 0; row < this._rows; ++row) {\n      let rowValues = [];\n      let offset = row * this._columns;\n      for (let col = 0; col < this._columns; ++col) {\n        rowValues.push(this._matrix[offset + col].toFixed(2));\n      }\n      rows.push(rowValues.join(' '));\n    }\n    console.log(rows.join('\\n'));\n  }\n\n  toArray() {\n    let rows = [];\n    for (let row = 0; row < this._rows; ++row) {\n      let rowValues = [];\n      let offset = row * this._columns;\n      for (let col = 0; col < this._columns; ++col) {\n        rowValues.push(this._matrix[offset + col]);\n      }\n      rows.push(rowValues);\n    }\n    return rows;\n  }\n\n  columnDistance(colA, colB) {\n    let sum = 0;\n    for (let row = 0; row < this._rows; ++row) {\n      let delta = this.get(row, colA) - this.get(row, colB);\n      sum += delta * delta;\n    }\n    return Math.sqrt(sum); \n  }\n\n  getCovariant() {\n    let result = new Matrix(this._rows, this._rows);\n\n    for (let col = 0; col < this._rows; ++col) {\n      for (let row = 0; row < this._rows; ++row) {\n        let sum = 0;\n        let offset0 = col * this._columns;\n        let offset1 = row * this._columns;\n        for (let i = 0; i < this._columns; ++i) {\n          sum += this._matrix[offset0 + i] * this._matrix[offset1 + i];\n        }\n        result.set(row, col, sum);\n      }\n    }\n\n    return result;\n  }\n}","let createRandom = require('ngraph.random')\n\nmodule.exports = function powerIteration(S, k, eps = 1e-40, maxIteration = 10000, seed = 42) {\n  if (k > S.length) throw new Error(\"Matrix ain't that big\");\n  let random = createRandom(seed);\n\n  let vectors = [];\n  let threshold = (1 - eps) * (1 - eps);\n  for (let i = 0; i < k; ++i) {\n    let next = createRandomVector(S.length);\n    normalize(next); \n    let diff = 0;\n    let v;\n    while (diff < threshold) { \n      v = next; \n      // orthogonize against previous vectors using Gram Schmidt process:\n      // https://en.wikipedia.org/wiki/Gram%E2%80%93Schmidt_process\n      for (let j = 0; j < i; ++j) {\n        let u = vectors[j];\n        let product = dot(v, u); \n        for (let col = 0; col < v.length; ++col) {\n          // vectors already normalized, so no need to do it again:\n          v[col] = v[col] - product * u[col];\n        } \n      }\n\n      next = multiply(S, v);\n      let len = dot(next, next);\n      if (len === 0) {\n        // this is likely the vector that corresponds to 0 eigenvalue\n        next = v;\n        len = dot(next, next);\n      }\n      divide(next, Math.sqrt(len));\n      diff = dot(next, v);\n      diff *= diff; \n      \n      maxIteration -= 1;\n      if (maxIteration < 0) {\n        // This usually happens when we run out of precision, still results are normally okay.\n        // console.log('Failed to converge :(', i);\n        break;\n      } \n    }\n    vectors.push(next)\n  }\n  \n  return vectors;\n\n  function createRandomVector(l) {\n    return Array(l).fill(1).map(() => random.nextDouble());\n  }\n}\n\n\nfunction normalize(v) { \n  let size = Math.sqrt(dot(v, v)); \n  for (let i = 0; i < v.length; ++i) {\n    v[i] /= size;\n  } \n  return v;\n}\n\nfunction divide(v, l) {\n  for (let i = 0; i < v.length; ++i) {\n    v[i] /= l;\n  } \n  return v;\n}\n\nfunction multiply(A, v) {\n  if (A.length !== v.length) throw new Error('Matrix * Vector dimension mismatch');\n  let result = [];\n  for (let row = 0; row < A.length; ++row) {\n    let sum = 0;\n    for (let col = 0; col < A.length; ++col) {\n      sum += A[row][col] * v[col];\n    }\n    result[row] = sum;\n  }\n  return result;\n}\n\nfunction dot(a, b) { \n  let sum = 0;\n  if (a.length !== b.length) throw new Error('Vector length mismatch');\n  for (let i = 0; i < a.length; ++i) {\n    sum += a[i] * b[i];\n  }\n  return sum;\n}\n"],"sourceRoot":""}